{% extends "base.html" %}
{% block body %}
<section class="index">
    <div class="index-container">
        <h1>Single URL SEO Analysis</h1>

        <!-- Full website analysis prompt -->
        <div class="full-site-prompt">
            <p>If you want to analyze a full website, please click below:</p>
            <a href="{{ url_for('login') }}" class="full-site-btn">Analyze Full Website</a>
        </div>

        <!-- Form for entering a URL -->
        <form method="POST" action="{{ url_for('analyze_single_url') }}">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
            <div class="single-form-group">
                <label for="url">Enter URL to Analyze:</label>
                <input type="text" id="url" name="url" placeholder="Enter URL" required>
            </div>
            <button type="submit" class="index-btn">Analyze</button>
        </form>
    </div>
    
{% if metrics %}
    <!-- Modal Popup -->
    <div id="analysisModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 class="modal-title">Analysis Results</h2>
                       <!-- Performance Metrics (Desktop) -->
<div class="metrics-horizontal-wrapper">
    <!-- Desktop Metrics -->
    <div class="metrics-card">
        <h3>PageSpeed Desktop</h3>
        <div class="metrics-grid">
            <div><strong>Performance Score</strong><br>{{ metrics["Performance Score (Desktop)"][0] }}</div>
            <div><strong>First Contentful Paint</strong><br>{{ metrics["First Contentful Paint (Desktop)"][0] }} s</div>
            <div><strong>Speed Index</strong><br>{{ metrics["Speed Index (Desktop)"][0] }} s</div>
            <div><strong>Time to Interactive</strong><br>{{ metrics["Time to Interactive (Desktop)"][0] }} s</div>
            <div><strong>CLS Lighthouse</strong><br>{{ metrics["CLS Lighthouse (Desktop)"][0] }}</div>
            <div><strong>LCP Lighthouse</strong><br>{{ metrics["LCP Lighthouse (Desktop)"][0] }}</div>
        </div>
    </div>

    <!-- Mobile Metrics -->
    <div class="metrics-card">
        <h3>PageSpeed Mobile</h3>
        <div class="metrics-grid">
            <div><strong>Performance Score</strong><br>{{ metrics["Performance Score (Mobile)"][0] }}</div>
            <div><strong>First Contentful Paint</strong><br>{{ metrics["First Contentful Paint (Mobile)"][0] }} s</div>
            <div><strong>Speed Index</strong><br>{{ metrics["Speed Index (Mobile)"][0] }} s</div>
            <div><strong>Time to Interactive</strong><br>{{ metrics["Time to Interactive (Mobile)"][0] }} s</div>
            <div><strong>CLS Lighthouse</strong><br>{{ metrics["CLS Lighthouse (Mobile)"][0] }}</div>
            <div><strong>LCP Lighthouse</strong><br>{{ metrics["LCP Lighthouse (Mobile)"][0] }}</div>
        </div>
    </div>
</div>
            <div class="met-grid">
            <div class="metric-section">
            <h3>Meta Data</h3>
            <p><strong>Meta Title:</strong> {{ metrics["Meta Title"][0] }}</p>
            <p><strong>Meta Description:</strong> {{ metrics["Meta Description"][0] }}</p>
            <p><strong>Canonical Tag:</strong> {{ metrics["Canonical Tag"][0] }}</p>
            </div>
            
            <div class="metric-section">
            <h3>Content Analysis</h3>
            <p><strong>Word Count:</strong> {{ metrics["Word Count"][0] }}</p>
            <p><strong>H1 Tags:</strong> {{ metrics["H1 Tags"][0] }}</p>
            <p><strong>H2 Tags:</strong> {{ metrics["H2 Tags"][0] }}</p>
            </div>
            
            <div class="metric-section">
            <h3>Image Details</h3>
            <p><strong>Largest Image Name:</strong> {{ metrics["Largest Image Name"][0] }}</p>
            <p><strong>Largest Image Size (KB):</strong> {{ metrics["Largest Image Size (KB)"][0] }}</p>
            </div>

            <div class="metric-section">
            <h3>Links</h3>
            <p><strong>Internal Links:</strong> {{ metrics["Internal Links"][0] }}</p>
            <p><strong>External Links:</strong> {{ metrics["External Links"][0] }}</p>
            <p><strong>Broken Links:</strong> {{ metrics["Broken Links"][0] }}</p>
            </div>
            
            <div class="metric-section">
            <h3>Structured Data</h3>
            <p><strong>Structured Data:</strong> {{ metrics["Structured Data"][0] }}</p>
            </div>
    
        </div>

        </div>
    </div>
    {% endif %}
    {% if metrics %}
<script>
window.onload = function () {
    const modal = document.getElementById("analysisModal");
    const closeBtn = document.querySelector(".close-btn");

    if (modal) {
        modal.style.display = "block";

        closeBtn.onclick = function () {
            modal.style.display = "none";
        };

        window.onclick = function (event) {
            if (event.target === modal) {
                modal.style.display = "none";
            }
        };
    }
};
</script>
{% endif %}
</section>
 <!-- Features Section -->
<section class="features">
    <div class="container">
        <h2>What You Will Discover</h2>
        <div class="feature-list">
            <div class="feature-item">
                <h3>Page Analysis</h3>
                <ul>
                    <li>Meta title and description evaluation</li>
                    <li>Heading structure (H1, H2 tags)</li>
                    <li>Content quality and word count</li>
                    <li>Image optimization analysis</li>
                </ul>
            </div>
            <div class="feature-item">
                <h3>Technical SEO Audit</h3>
                <ul>
                    <li>Canonical tag implementation</li>
                    <li>Structured data markup</li>
                    <li>Internal/external link analysis</li>
                    <li>Broken link detection</li>
                </ul>
            </div>
            <div class="feature-item">
                <h3>Performance Metrics</h3>
                <ul>
                    <li>Google PageSpeed scores</li>
                    <li>Core Web Vitals (LCP, CLS, FID)</li>
                    <li>Mobile vs. desktop performance</li>
                    <li>Render-blocking resources</li>
                </ul>
            </div>
        </div>
    </div>
</section>

<!-- SEO Description Section with Image -->
<section class="seo-description">
    <div class="container">
        <h2>Why SEO Audit?</h2>
        <div class="seo-content-wrapper">
            <div class="seo-image">
                <img src="/static/assets/images/seoapp_front.jpg" loading="lazy" alt="SEO Analysis Illustration">
            </div>
            <div class="seo-content">
                <p>A powerful <strong>SEO Analyzer</strong> is essential for improving website speed, technical health, and overall search engine performance. Our tool scans your website and provides in-depth insights into key technical SEO metrics, including <strong>page speed</strong>, <strong>mobile-friendliness</strong>, <strong>Core Web Vitals</strong>, <strong>crawlability</strong>, and <strong>indexing issues</strong>.</p>
                
                <p>The tool also checks for <strong>broken links</strong>, <strong>missing meta tags</strong>, <strong>structured data issues</strong>, and <strong>duplicate content</strong>, ensuring your site meets search engine guidelines.</p>
                
                <p>Get <strong>actionable recommendations</strong> to fix performance bottlenecks and optimize your website for higher rankings and better conversions.</p>
                
                <p>Stay ahead in search rankings by using our <strong>SEO Analyzer</strong> to ensure a fast, error-free, and technically sound website!</p>
            </div>
        </div>
    </div>
</section>
<!-- Full Website CTA -->
<section class="full-website-cta">
    <div class="container">
        <div class="cta-content">
            <h2>Ready for Full Website Analysis?</h2>
            <p>Our full website analysis scans your entire site, including all pages, providing comprehensive reports and actionable insights.</p>
            <div class="cta-buttons">
                <a href="{{ url_for('login') }}" class="cta-button primary">Log In to Analyze Full Site</a>
                <a href="{{ url_for('register') }}" class="cta-button secondary">Create Free Account</a>
            </div>
        </div>
    </div>
</section>
<!-- Value Proposition Section -->
<section class="value-props">
    <div class="container">
        <h2>Why Analyze Your Website?</h2>
        <div class="value-grid">
            <div class="value-card">
                <div class="value-icon">üöÄ</div>
                <h3>Performance Insights</h3>
                <p>Discover how fast your pages load on both desktop and mobile devices, with actionable recommendations.</p>
            </div>
            <div class="value-card">
                <div class="value-icon">üîç</div>
                <h3>SEO Health Check</h3>
                <p>Get detailed reports on meta tags, headings, content structure and technical SEO factors.</p>
            </div>
            <div class="value-card">
                <div class="value-icon">üìà</div>
                <h3>Competitive Edge</h3>
                <p>Identify opportunities to outperform competitors in search rankings.</p>
            </div>
        </div>
    </div>
</section>

{% endblock %}